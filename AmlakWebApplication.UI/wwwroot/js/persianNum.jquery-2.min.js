function realtime(e,s,a){e.bind("DOMSubtreeModified",function(r){e.unbind("DOMSubtreeModified"),jQuery(r.target).persianNum(s,a,!1)})}function hasCommonElements(e,s){return res=!1,e==[]||s==[]?res:(e.forEach(function(e){if(s.indexOf(e)>=0)return void(res=!0)}),res)}function getClasses(e){return e.className.split(" ")}function getAllClasses(e,s){var a=[];return jQuery(e).parentsUntil(s).addBack().each(function(){this.className&&a.push.apply(a,this.className.split(" "))}),a}function traverseAr(e){return e.replace(/0/g,"٠").replace(/1/g,"١").replace(/2/g,"٢").replace(/3/g,"٣").replace(/4/g,"٤").replace(/5/g,"٥").replace(/6/g,"٦").replace(/7/g,"٧").replace(/8/g,"٨").replace(/9/g,"٩").replace(/۰/g,"٠").replace(/۱/g,"١").replace(/۲/g,"٢").replace(/۳/g,"٣").replace(/۴/g,"٤").replace(/۵/g,"٥").replace(/۶/g,"٦").replace(/۷/g,"٧").replace(/۸/g,"٨").replace(/۹/g,"٩")}function traverse(e){return e.replace(/0/g,"۰").replace(/1/g,"۱").replace(/2/g,"۲").replace(/3/g,"۳").replace(/4/g,"۴").replace(/5/g,"۵").replace(/6/g,"۶").replace(/7/g,"۷").replace(/8/g,"۸").replace(/9/g,"۹").replace(/٠/g,"۰").replace(/١/g,"۱").replace(/٢/g,"۲").replace(/٣/g,"۳").replace(/٤/g,"۴").replace(/٥/g,"۵").replace(/٦/g,"۶").replace(/٧/g,"۷").replace(/٨/g,"۸").replace(/٩/g,"۹")}function traverseEn(e){return e.replace(/۰/g,"0").replace(/۱/g,"1").replace(/۲/g,"2").replace(/۳/g,"3").replace(/۴/g,"4").replace(/۵/g,"5").replace(/۶/g,"6").replace(/۷/g,"7").replace(/۸/g,"8").replace(/۹/g,"9").replace(/٠/g,"0").replace(/١/g,"1").replace(/٢/g,"2").replace(/٣/g,"3").replace(/٤/g,"4").replace(/٥/g,"5").replace(/٦/g,"6").replace(/٧/g,"7").replace(/٨/g,"8").replace(/٩/g,"9")}jQuery.fn.persianNum=function(e,s){$this=jQuery(this),persianNumClasses=e?e.persianNumClasses||["persian"]:["persian"],englishNumClasses=e?e.englishNumClasses||["english"]:["english"],arabicNumClasses=e?e.arabicNumClasses||["arabic"]:["arabic"],forbiddenTag=e?e.forbiddenTag||["SCRIPT","STYLE","CODE"]:["SCRIPT","STYLE","CODE"];for(var a=0;a<this.length;a++){var r=this[a],l="string"==typeof r.className?getClasses(r):[];if(forbiddenTag.indexOf(r.nodeName)>=0)break;for(var n=0;n<r.childNodes.length;n++){var i=r.childNodes[n];if(3==i.nodeType){var c=i.nodeValue;hasCommonElements(l,persianNumClasses)||"p"===s?i.nodeValue=traverse(c):hasCommonElements(l,englishNumClasses)||"e"===s?i.nodeValue=traverseEn(c):(hasCommonElements(l,arabicNumClasses)||"a"===s)&&(i.nodeValue=traverseAr(c))}else 1==i.nodeType&&(hasCommonElements(getClasses(i),persianNumClasses)||"p"===s?("OL"==i.nodeName&&jQuery(i).css("list-style-type","persian"),jQuery(i).persianNum({persianNumClasses:persianNumClasses,englishNumClasses:englishNumClasses,arabicNumClasses:arabicNumClasses,forbiddenTag:forbiddenTag},"p")):hasCommonElements(getClasses(i),englishNumClasses)||"e"===s?("OL"==i.nodeName&&jQuery(i).css("list-style-type","decimal"),jQuery(i).persianNum({persianNumClasses:persianNumClasses,englishNumClasses:englishNumClasses,arabicNumClasses:arabicNumClasses,forbiddenTag:forbiddenTag},"e")):(hasCommonElements(getClasses(i),arabicNumClasses)||"a"===s)&&("OL"==i.nodeName&&jQuery(i).css("list-style-type","arabic-indic"),jQuery(i).persianNum({persianNumClasses:persianNumClasses,englishNumClasses:englishNumClasses,arabicNumClasses:arabicNumClasses,forbiddenTag:forbiddenTag},"a")),jQuery(i).persianNum({persianNumClasses:persianNumClasses,englishNumClasses:englishNumClasses,arabicNumClasses:arabicNumClasses,forbiddenTag:forbiddenTag}))}hasCommonElements(getAllClasses(r,"body"),["realtime"])&&(hasCommonElements(l,persianNumClasses)||"p"===s?realtime(jQuery(this),e,"p"):hasCommonElements(l,englishNumClasses)||"e"===s?realtime(jQuery(this),e,"e"):(hasCommonElements(l,arabicNumClasses)||"a"===s)&&realtime(jQuery(this),e,"a"))}};