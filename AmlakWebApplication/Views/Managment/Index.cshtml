@model ViewModelLayer.Panel.Main
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Managment.cshtml";
}

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

<section class="content">
    <!-- Small boxes (Stat box) -->
    <div class="row">

        <!-- ./col -->
        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-primary">
                <div class="inner">
                    <h3>@Model.ApartemanCount<sup style="font-size: 20px"></sup></h3>

                    <p>کل آپارتمان های موجود</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeApartemanManagment" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-green">
                <div class="inner">
                    <h3>@Model.HomewithgardenCount</h3>

                    <p>کل خانه های حیاط دار</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeWithGardenManagment" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-red">
                <div class="inner">
                    <h3>@Model.ZaminCount</h3>

                    <p>کل زمین ها </p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeGround" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>
        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-gray">
                <div class="inner">
                    <h3>@Model.KolangiCount</h3>

                    <p>کل خانه های کلنگی</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeKolangi" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-primary">
                <div class="inner">
                    <h3>@Model.EdariCount<sup style="font-size: 20px"></sup></h3>

                    <p>کل خانه های اداری</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeEdari" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>

        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-danger">
                <div class="inner">
                    <h3>@Model.MaghazeCount<sup style="font-size: 20px"></sup></h3>

                    <p>کل مغازه ها</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeMaghaze" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>

        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-primary">
                <div class="inner">
                    <h3>@Model.MostaghelatCount</h3>

                    <p>کل مستقلات </p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeMostaghelat" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>

        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-green">
                <div class="inner">
                    <h3>@Model.AnbarCount</h3>

                    <p>کل انبار و سوله</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeAnbarManagment" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>

        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-red">
                <div class="inner">
                    <h3>@Model.GardenCount</h3>

                    <p>کل باغ و باغچه</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeGardenManagment" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>

        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-gray">
                <div class="inner">
                    <h3>@Model.VilaCount</h3>

                    <p>کل ویلا</p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="/HomeVilaManagment" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>

        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-primary">
                <div class="inner">
                    <h3>@Model.AdvisorCount</h3>
                    <p>کل کارشناسان</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a href="/AdvisorManagment" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>

        <div class="col-lg-2 col-xs-4">
            <!-- small box -->
            <div class="small-box bg-danger">
                <div class="inner">
                    <h3>@Model.UserCount</h3>

                    <p>کل کاربران</p>
                </div>
                <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div>
                <a href="/UserManagment" class="small-box-footer">اطلاعات بیشتر <i class="fa fa-arrow-circle-left"></i></a>
            </div>
        </div>
        <!-- ./col -->
    </div>

    <hr />

    <div class="row">

        <div class="text-center">
            <h3 style="padding:20px;">امار کارشناسان املاک</h3>
        </div>
    </div>
    <!-- /.row -->
    <!-- Main row -->
    <div class="row">
        <div class="container">
            <canvas id="myChart" height="100"></canvas>
        </div>
    </div>
    <!-- /.row (main row) -->

    <hr />



</section>

<script>

    window.onload = function exampleFunction() { 
  
    $.ajax({
        type: "Get",
        url: '/ContractManagment/AdviserInfo',
        data: { id: 1 },
        success: function (data) {
            var dacol = data.name;
            var names = dacol.split(',');

            var dacol = data.sold;
            var Sold = dacol.split(',');

            var dacol = data.rented;
            var Rented = dacol.split(',');

            var dacol = data.builded;
            var Builded = dacol.split(',');

            var ctx = document.getElementById('myChart').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
                type: 'line',

                // The data for our dataset
                data: {
                    labels: names,
                    datasets: [{
                        label: 'فروخته شده',
                        backgroundColor: 'rgba(251, 246, 246, 0.00)',
                        borderColor: 'rgb(255, 99, 132)',
                        data: Sold
                    }, {
                        label: 'اجاره داده شده',
                        backgroundColor: 'rgba(251, 246, 246, 0.00)',
                        borderColor: 'rgba(41, 72, 177, 0.81)',
                        data: Rented
                    }, {
                        label: 'ساخته شده',
                        backgroundColor: 'rgba(251, 246, 246, 0.00)',
                        borderColor: 'rgba(57, 153, 69, 0.85)',
                        data: Builded
                    }]
                },

                // Configuration options go here
                options: {
                    responsive: true
                }
            });
        }
    });
    }

    


</script>