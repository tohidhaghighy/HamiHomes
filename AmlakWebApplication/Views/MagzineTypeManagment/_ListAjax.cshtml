@model List<DomainLayer.MagzineType>
@{
    if (Model.Count() > 0)
    {
        var mainlist = Model.Where(a => a.MagzineTypeId != null);
        foreach (var item in mainlist)
        {
            <tr>
                <td class="text-center" style="padding:50px;">
                    @item.Name
                </td>
                <td class="text-center" style="padding:50px;">
                    @if (item.MagzineTypeId == null)
                    {
                        <p>اصلی</p>
                    }
                    else
                    {
                        @Model.FirstOrDefault(a => a.Id == item.MagzineTypeId).Name
                    }

                </td>
                <td class="text-center" style="padding:50px;"><p data-placement="top" data-toggle="tooltip" title="درج زیر شاخه"><a class="btn btn-success btn-xs" onclick="addsub(@item.Id)"><i class="ion ion-ios-edit"></i></a></p></td>
                <td class="text-center" style="padding:50px;"><p data-placement="top" data-toggle="tooltip" title="حذف"><a class="btn btn-danger btn-xs" onclick="deleteitem(@item.Id)"><i class="ion ion-ios-trash"></i></a></p></td>
            </tr>
            
            @foreach (var subitem in Model.Where(a => a.MagzineTypeId == item.Id))
            {
                <tr style="margin-right:50px;">
                    <td class="text-center" style="padding:50px;">
                        @subitem.Name
                    </td>
                   
                    <td class="text-center" style="padding:50px;"><p data-placement="top" data-toggle="tooltip" title="حذف"><a class="btn btn-danger btn-xs" onclick="deleteitem(@item.Id)"><i class="ion ion-ios-trash"></i></a></p></td>
                </tr>
            }
        }

    }

}


